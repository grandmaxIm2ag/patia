package main;

import lejos.hardware.Button;
import lejos.hardware.ev3.LocalEV3;
import lejos.hardware.lcd.GraphicsLCD;
import lejos.robotics.Color;
import sensor.ColorSensor;

public class TestColorSensor {
	
	public static void main(String[] args){
		ColorSensor color = new ColorSensor();
		GraphicsLCD screen = LocalEV3.get().getGraphicsLCD();
		screen.drawString("Calibration", 2, 20, 0);
		Button.waitForAnyPress();
		screen.clear();
		if(true){
			
			color.lightOn();
			
			for(int i=1; i<=3; i++){
				//calibration gris
				screen.drawString("Gris "+i, 2, 20, 0);
				Button.waitForAnyPress();
				color.calibrateColor(Color.GRAY);
			}
			//calibration blue
			screen.clear();
			screen.drawString("Bleu", 2, 20, 0);
			Button.waitForAnyPress();
			color.calibrateColor(Color.BLUE);
			
			//calibration noir
			screen.clear();
			screen.drawString("Noir", 2, 20, 0);
			Button.waitForAnyPress();
			color.calibrateColor(Color.BLACK);
		
			
			//calibration jaune
			screen.clear();
			screen.drawString("Jaune", 2, 20, 0);
			Button.waitForAnyPress();
			color.calibrateColor(Color.YELLOW);
			 
			
			//calibration green
			screen.clear();
			screen.drawString("Vert", 2, 20, 0);
			Button.waitForAnyPress();
			color.calibrateColor(Color.GREEN);
			
			
			//calibration red
			screen.clear();
			screen.drawString("Rouge", 2, 20, 0);
			Button.waitForAnyPress();
			color.calibrateColor(Color.RED);
		}
		
		for(int i=0; i<10;i++){
			Button.waitForAnyPress();
			screen.clear();
			int c = color.getCurrentColor();
			if(c == Color.RED){
				screen.drawString("Rouge", 2, 20, 0);
			}else if(c == Color.BLUE){
				screen.drawString("Bleu", 2, 20, 0);
			}else if(c == Color.GRAY){
				screen.drawString("Gris", 2, 20, 0);
			}else if(c == Color.GREEN){
				screen.drawString("Vert", 2, 20, 0);
			}else if(c == Color.YELLOW){
				screen.drawString("Jaune", 2, 20, 0);
			}else if(c == Color.BLACK){
				screen.drawString("Noir", 2, 20, 0);
			}else{
				screen.drawString("Inconnue", 2, 20, 0);
			}
		}
	}
}
